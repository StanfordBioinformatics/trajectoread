{
    "name": "bwa_controller",
    "title": "BWA Controller",
    "summary": "Align reads with bwa",
    "dxapi": "1.0.0",
    "version": "0.1.0",
    "inputSpec": [
        {
            "name": "record_link",
            "label": "SCGPM record DXLink",
            "help": "Sequencing lane dashboard record in format: project-XXX:record-YYY",
            "class": "string",
            "optional": false
        },
        {
            "name": "output_folder",
            "label": "Output folder",
            "class": "string",
            "default": "/stage1_bwa",
            "optional": false
        },
        {
            "name": "worker_id",
            "label": "Worker ID",
            "help": "ID of map_sample applet",
            "class": "string",
            "optional": false
        },
        {
            "name": "worker_project",
            "label": "Worker project ID",
            "class": "string",
            "optional": false
        },
        {
            "name": "fastqs",
            "label": "Fastq files",
            "class": "array:file",
            "patterns": ["*fastq.gz", "*.fastq", "*.fq.gz"],
            "optional": false
        },
        {
            "name": "mark_duplicates",
            "label": "Mark Duplicates",
            "class": "boolean",
            "default": false,
            "optional": true

        }
    ],
    "outputSpec": [
        {
            "name": "bams",
            "label": "Bam files",
            "class": "array:file"
        },
        {
            "name": "bais",
            "label": "Bai files",
            "class": "array:file"
        },
        {
            "name": "tools_used",
            "class": "array:file"
        }
    ],
    "runSpec": {
        "interpreter": "python2.7",
        "file": "src/bwa_controller.py",
        "bundledDepends": [],
        "execDepends": [],
        "systemRequirements": {
            "*": {
                "instanceType": "mem1_ssd1_x2"
            }
        },
        "distribution": "Ubuntu",
        "release": "12.04"
    },
    "access": {
        "allProjects": "ADMINISTER",
        "network": ["*"]
    }
}
